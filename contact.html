<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>اتصل بنا | أسواق الشادر</title>
    
    <!-- PWA Meta Tags -->
    <meta name="theme-color" content="#1a5f7a">
    <meta name="apple-mobile-web-app-status-bar-style" content="#1a5f7a">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="description" content="تواصل مع أسواق الشادر لأي استفسار أو مشكلة.">
    <link rel="stylesheet" href="styles.css">
    <!-- إضافة رمز الموقع المختصر (favicon) -->
    <link rel="icon" type="image/jpeg" href="images/logo22.jpg">
    <link rel="shortcut icon" type="image/jpeg" href="images/logo22.jpg">
    <link rel="apple-touch-icon" href="images/logo22.jpg">
    
    <!-- PWA Manifest -->
    <link rel="manifest" href="manifest.json">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
</head>
<body>
    <div id="page-loader" style="position:fixed;top:0;left:0;width:100vw;height:100vh;background:white;z-index:2000;display:flex;align-items:center;justify-content:center;transition:opacity 0.3s;">
        <div style="text-align:center;">
            <i class="fas fa-spinner fa-spin" style="font-size:2.5rem;color:#1a5f7a;"></i>
            <div style="margin-top:12px;color:#1a5f7a;font-weight:bold;">جاري تحميل الصفحة...</div>
        </div>
    </div>
    <header>
        <div class="logo-container">
            <img src="images/logo22.jpg" alt="شعار أسواق الشادر" class="logo" width="60" height="60">
            <h1>أسواق الشادر</h1>
        </div>
        <div class="main-menu-toggle">
            <i data-lucide="menu"></i>
        </div>
        <nav class="main-menu" id="main-menu">
            <ul>
                <li><a href="index.html#home" class="menu-item"><i data-lucide="home"></i> الرئيسية</a></li>
                <li><a href="index.html#products" class="menu-item"><i data-lucide="shopping-bag"></i> المنتجات</a></li>
                <li><a href="index.html#daily-offers" class="menu-item"><i data-lucide="zap"></i> العروض اليومية</a></li>
                <li><a href="contact.html" class="menu-item active"><i data-lucide="store"></i> عن المتجر</a></li>
            </ul>
        </nav>
    </header>
    <main>
        <section id="contact" class="contact" style="margin-top:40px;">
            <h2>اتصل بنا <i class="fas fa-envelope"></i></h2>
            <div class="contact-container">
                <div class="contact-info">
                    <div class="contact-item" id="branches-block">
                        <i class="fas fa-map-marker-alt"></i>
                        <div id="branches-list"></div>
                    </div>
                    <div class="contact-item" id="phones-block">
                        <i class="fas fa-phone"></i>
                        <div id="phones-list"></div>
                    </div>
                    <div class="contact-item">
                        <i class="fas fa-envelope"></i>
                        <p>صفحتنا على فيسبوك: <a href="https://www.facebook.com/share/1CizJTdEEc/" target="_blank" rel="noopener">اضغط هنا</a></p>
                    </div>
                </div>
                <form class="contact-form">
                    <input type="text" placeholder="الاسم" aria-label="الاسم">
                    <input type="email" placeholder="البريد الإلكتروني" aria-label="البريد الإلكتروني">
                    <textarea placeholder="رسالتك" aria-label="رسالتك"></textarea>
                    <button type="submit" class="btn">إرسال <i class="fas fa-paper-plane"></i></button>
                </form>
            </div>
        </section>
        <section id="about" class="about" style="margin-top:40px;">
            <h2>عن أسواق الشادر <i class="fas fa-store"></i></h2>
            <div class="about-content">
                <img src="images/logo22.jpg" alt="شعار أسواق الشادر" class="about-logo" width="150" height="150">
                <div class="about-text" id="about-text">
                    <div id="about-phones"></div>
                    <div id="about-branches"></div>
                    <p>أسواق الشادر تقدم لكم أجود أنواع الخضراوات والفواكه الطازجة مع خدمة توصيل سريعة وجودة عالية.</p>
                </div>
            </div>
        </section>
    </main>
    <footer style="margin-top:40px;">
        <div class="footer-content">
            <div class="footer-logo">
                <img src="images/logo22.jpg" alt="شعار أسواق الشادر" class="logo" width="80" height="80">
                <h3>أسواق الشادر</h3>
            </div>
            <div class="footer-contact">
                <h4>اتصل بنا</h4>
                    <div id="footer-phones"></div>
                <p><i class="fab fa-facebook"></i> <a href="https://www.facebook.com/share/1CizJTdEEc/" target="_blank" rel="noopener">صفحتنا على فيسبوك</a></p>
            </div>
        </div>
        <div class="copyright">
            <p>&copy; 2025 أسواق الشادر. جميع الحقوق محفوظة.</p>
        </div>
    </footer>
    <script src="https://unpkg.com/lucide@latest"></script>
    <script src="settings.js"></script>
    <script>
    document.addEventListener('DOMContentLoaded', function() {
        if (window.lucide) lucide.createIcons();
        // قائمة الجوال (الهامبرجر)
        const menuToggle = document.querySelector('.main-menu-toggle');
        const mainMenu = document.querySelector('.main-menu');
        const backdrop = document.querySelector('.backdrop') || (function(){
            const b = document.createElement('div');
            b.className = 'backdrop';
            document.body.appendChild(b);
            return b;
        })();
        if (menuToggle && mainMenu) {
            menuToggle.addEventListener('click', function(e) {
                e.preventDefault();
                mainMenu.classList.toggle('active');
                backdrop.classList.toggle('active');
                document.body.classList.toggle('menu-open');
                if (backdrop.classList.contains('active')) {
                    backdrop.style.display = 'block';
                    backdrop.offsetHeight;
                    backdrop.style.opacity = '1';
                } else {
                    backdrop.style.opacity = '0';
                    setTimeout(function(){ if (!backdrop.classList.contains('active')) backdrop.style.display = 'none'; }, 300);
                }
            });
            backdrop.addEventListener('click', function(e) {
                e.preventDefault();
                mainMenu.classList.remove('active');
                backdrop.classList.remove('active');
                document.body.classList.remove('menu-open');
                backdrop.style.opacity = '0';
                setTimeout(function(){ backdrop.style.display = 'none'; }, 300);
            });
            document.querySelectorAll('.main-menu a').forEach(function(link) {
                link.addEventListener('click', function() {
                    mainMenu.classList.remove('active');
                    backdrop.classList.remove('active');
                    document.body.classList.remove('menu-open');
                    backdrop.style.opacity = '0';
                    setTimeout(function(){ backdrop.style.display = 'none'; }, 300);
                });
            });
        }
        // توليد الفروع والأرقام من الإعدادات
        try {
            const S = window.APP_SETTINGS || {};
            // الفروع
            const branchesList = document.getElementById('branches-list');
            const aboutBranches = document.getElementById('about-branches');
            if (branchesList && Array.isArray(S.BRANCHES)) {
                branchesList.innerHTML = '';
                S.BRANCHES.filter(b => (b && (b.address || b.name))).forEach((b, idx) => {
                    const p = document.createElement('p');
                    const label = b.name ? `${b.name} : ` : '';
                    const text = document.createTextNode(`${label}${b.address || ''} `);
                    p.appendChild(text);
                    if (b.mapsUrl) {
                        const a = document.createElement('a');
                        a.href = b.mapsUrl;
                        a.target = '_blank';
                        a.rel = 'noopener';
                        a.textContent = 'خريطة جوجل';
                        a.style.marginRight = '8px';
                        p.appendChild(a);
                    }
                    branchesList.appendChild(p);
                });
            }
            if (aboutBranches && Array.isArray(S.BRANCHES)) {
                aboutBranches.innerHTML = '';
                S.BRANCHES.filter(b => (b && (b.address || b.name))).forEach((b) => {
                    const p = document.createElement('p');
                    const label = b.name ? `${b.name} : ` : '';
                    p.appendChild(document.createTextNode(`${label}${b.address || ''} `));
                    if (b.mapsUrl) {
                        const a = document.createElement('a');
                        a.href = b.mapsUrl;
                        a.target = '_blank';
                        a.rel = 'noopener';
                        a.textContent = 'خريطة جوجل';
                        a.style.marginRight = '8px';
                        p.appendChild(a);
                    }
                    aboutBranches.appendChild(p);
                });
            }
            // أرقام الهواتف
            const phonesList = document.getElementById('phones-list');
            const footerPhones = document.getElementById('footer-phones');
            const aboutPhones = document.getElementById('about-phones');
            const phoneNumbers = Array.isArray(S.CONTACT_PHONES) ? S.CONTACT_PHONES : [];
            const whatsappPhone = S.WHATSAPP_PHONE || '';
            const renderPhoneLink = (num) => {
                const a = document.createElement('a');
                a.href = `https://wa.me/${whatsappPhone || '201013449050'}`;
                a.target = '_blank';
                a.rel = 'noopener';
                a.className = 'phone-link';
                a.textContent = num;
                const i = document.createElement('i');
                i.className = 'fab fa-whatsapp';
                i.style.marginRight = '6px';
                a.appendChild(document.createTextNode(' '));
                a.appendChild(i);
                return a;
            };
            if (phonesList) {
                phonesList.innerHTML = '';
                if (phoneNumbers.length) {
                    phoneNumbers.forEach(num => {
                        const p = document.createElement('p');
                        p.appendChild(document.createTextNode('واتساب: '));
                        p.appendChild(renderPhoneLink(num));
                        phonesList.appendChild(p);
                    });
                }
            }
            if (footerPhones) {
                footerPhones.innerHTML = '';
                phoneNumbers.forEach(num => {
                    const p = document.createElement('p');
                    const i = document.createElement('i');
                    i.className = 'fas fa-phone';
                    p.appendChild(i);
                    p.appendChild(document.createTextNode(' '));
                    p.appendChild(renderPhoneLink(num));
                    footerPhones.appendChild(p);
                });
            }
            if (aboutPhones) {
                aboutPhones.innerHTML = '';
                if (phoneNumbers.length) {
                    const p = document.createElement('p');
                    const label = document.createTextNode('هاتف: ');
                    p.appendChild(label);
                    phoneNumbers.forEach((num, idx) => {
                        p.appendChild(renderPhoneLink(num));
                        if (idx !== phoneNumbers.length - 1) p.appendChild(document.createTextNode(' - '));
                    });
                    aboutPhones.appendChild(p);
                }
            }
        } catch(e) { console.warn('settings render error', e); }

        // إرسال نموذج التواصل إلى واتساب
        const contactForm = document.querySelector('.contact-form');
        if (contactForm) {
            contactForm.addEventListener('submit', function(e) {
                e.preventDefault();
                const name = contactForm.querySelector('input[placeholder="الاسم"]').value.trim();
                const email = contactForm.querySelector('input[placeholder="البريد الإلكتروني"]').value.trim();
                const message = contactForm.querySelector('textarea[placeholder="رسالتك"]').value.trim();
                let text = 'رسالة دعم/مشكلة من الموقع:';
                if (name) text += `\nالاسم: ${name}`;
                if (email) text += `\nالبريد: ${email}`;
                if (message) text += `\nالرسالة: ${message}`;
                const encoded = encodeURIComponent(text);
                const phone = (window.APP_SETTINGS && window.APP_SETTINGS.WHATSAPP_PHONE) || '201013449050';
                const wa = `https://wa.me/${phone}?text=${encoded}`;
                const win = window.open(wa, '_blank', 'noopener');
                if (win) { win.opener = null; }
                contactForm.reset();
            });
        }
    });
    // إخفاء اللودر بعد تحميل الصفحة
    window.addEventListener('DOMContentLoaded', function() {
        setTimeout(function() {
            var loader = document.getElementById('page-loader');
            if(loader) {
                loader.style.opacity = '0';
                setTimeout(function(){ loader.style.display = 'none'; }, 350);
            }
        }, 350); // يمكن تقليل الرقم إذا أردت سرعة أكبر
    });
    </script>
</body>
</html> 
