<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>







<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-D9262X6WVK"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-D9262X6WVK');
</script>








<script type="text/javascript">
	
</script>




	


    
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>أسواق الشادر - تسوق خضراوات وفواكه طازجة</title>
    
    <!-- PWA Meta Tags -->
    <meta name="theme-color" content="#1a5f7a">
    <meta name="apple-mobile-web-app-status-bar-style" content="#1a5f7a">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="description" content="أسواق الشادر: أفضل متجر إلكتروني لشراء الخضراوات والفواكه الطازجة أونلاين مع توصيل سريع وجودة عالية. تسوق الآن من أسواق الشادر.">
    <meta name="keywords" content="أسواق الشادر, خضراوات, فواكه, سوق, تسوق, طازج, توصيل, متجر إلكتروني, خضار, فاكهة, سوق الشادر, shadar, aswaq, aswaq el shadar, grocery, fruits, vegetables, online store, delivery">
    <meta name="author" content="أسواق الشادر">
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/aos/2.3.4/aos.css" />
    <script src="https://unpkg.com/lucide@latest"></script>
    
    <!-- تحسين الموقع للهواتف المحمولة -->
    <!--
    تم استخدام الأكواد التالية لتحسين تجربة المستخدم على الهواتف المحمولة:
    
    1. meta name="viewport": يضبط عرض الصفحة لتناسب عرض الشاشة وإلغاء إمكانية التكبير
       - width=device-width: جعل عرض الصفحة يساوي عرض الجهاز
       - initial-scale=1.0: ضبط مستوى التكبير الأولي
       - maximum-scale=1.0: منع المستخدم من التكبير (تحسين التجربة في التطبيقات)
       - user-scalable=no: إلغاء إمكانية تغيير التكبير
    
    2. meta name="theme-color": تغيير لون شريط المتصفح على أجهزة أندرويد
    
    3. meta name="apple-mobile-web-app-status-bar-style": تغيير نمط شريط الحالة على أجهزة آيفون
    
    4. meta name="apple-mobile-web-app-capable" و meta name="mobile-web-app-capable":
       تمكين عرض الموقع كتطبيق كامل الشاشة عند إضافته للشاشة الرئيسية
    
    5. تم استخدام link rel="dns-prefetch" لتسريع تحميل الموارد الخارجية مثل مكتبة Font Awesome
    -->
    <meta name="theme-color" content="#1a5f7a">
    <meta name="apple-mobile-web-app-status-bar-style" content="#1a5f7a">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="mobile-web-app-capable" content="yes">
    <meta property="og:title" content="أسواق الشادر - تسوق خضراوات وفواكه طازجة">
    <meta property="og:description" content="أسواق الشادر: أفضل متجر إلكتروني لشراء الخضراوات والفواكه الطازجة أونلاين مع توصيل سريع وجودة عالية. تسوق الآن من أسواق الشادر.">
    <meta property="og:image" content="images/logo22.png">
    <meta property="og:url" content="https://my-caty.netlify.app/">
    <meta property="og:type" content="website">
    <!-- تحسين الأداء -->
    <link rel="dns-prefetch" href="https://cdnjs.cloudflare.com">
    
    <!-- إضافة رمز الموقع المختصر (favicon) -->
    <link rel="icon" type="image/jpeg" href="images/logo22.jpg">
    <link rel="shortcut icon" type="image/jpeg" href="images/logo22.jpg">
    <link rel="apple-touch-icon" href="images/logo22.jpg">
    
    <!-- PWA Manifest -->
    <link rel="manifest" href="manifest.json">
    
    <!-- Firebase SDK لـ المتصفح -->
    <script src="https://www.gstatic.com/firebasejs/10.12.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.12.1/firebase-auth-compat.js"></script>
    <script src="config.js"></script>
    <script>
      // استخدام التكوين من الملف المنفصل
      try {
        firebase.initializeApp(firebaseConfig);
        console.log('تم تهيئة Firebase بنجاح');
      } catch (error) {
        console.error('خطأ في تهيئة Firebase:', error);
      }

      const provider = new firebase.auth.GoogleAuthProvider();
      provider.addScope('email');
      provider.addScope('profile');

      document.addEventListener('DOMContentLoaded', function () {
        const loginBtn = document.getElementById('loginBtn');
        const userInfo = document.getElementById('user-info');
        const userName = document.getElementById('user-name');
        const logoutBtn = document.getElementById('logoutBtn');
        
        if (!loginBtn || !userInfo || !userName || !logoutBtn) {
          console.error('لم يتم العثور على عناصر تسجيل الدخول');
          return;
        }

        // مراقبة حالة تسجيل الدخول
        firebase.auth().onAuthStateChanged(user => {
          console.log('تغيير حالة تسجيل الدخول:', user ? 'مسجل دخول' : 'غير مسجل');
          if (user) {
            userInfo.style.display = 'flex';
            loginBtn.style.display = 'none';
            userName.textContent = user.displayName || user.email;
            console.log('تم تسجيل الدخول:', user.displayName);
          } else {
            userInfo.style.display = 'none';
            loginBtn.style.display = 'inline-block';
            console.log('تم تسجيل الخروج');
          }
        });

        // زر تسجيل الدخول
        loginBtn.addEventListener('click', () => {
          console.log('محاولة تسجيل الدخول...');
          loginBtn.disabled = true;
          loginBtn.textContent = 'جاري التحميل...';
          
          firebase.auth().signInWithPopup(provider)
            .then(result => {
              const user = result.user;
              console.log('تم تسجيل الدخول بنجاح:', user.displayName);
              alert(`مرحبًا ${user.displayName || user.email}! تم تسجيل دخولك بنجاح.`);
            })
            .catch(error => {
              console.error('خطأ في تسجيل الدخول:', error);
              let errorMessage = 'حدث خطأ أثناء تسجيل الدخول';
              
              switch (error.code) {
                case 'auth/popup-closed-by-user':
                  errorMessage = 'تم إغلاق نافذة تسجيل الدخول';
                  break;
                case 'auth/popup-blocked':
                  errorMessage = 'تم حظر النافذة المنبثقة. يرجى السماح بالنوافذ المنبثقة';
                  break;
                case 'auth/cancelled-popup-request':
                  errorMessage = 'تم إلغاء طلب تسجيل الدخول';
                  break;
                case 'auth/network-request-failed':
                  errorMessage = 'خطأ في الاتصال بالشبكة';
                  break;
                default:
                  errorMessage = `خطأ: ${error.message}`;
              }
              
              alert(errorMessage);
            })
            .finally(() => {
              loginBtn.disabled = false;
              loginBtn.textContent = 'تسجيل الدخول بجوجل';
            });
        });

        // زر تسجيل الخروج
        logoutBtn.addEventListener('click', () => {
          console.log('محاولة تسجيل الخروج...');
          firebase.auth().signOut()
            .then(() => {
              console.log('تم تسجيل الخروج بنجاح');
              alert('تم تسجيل خروجك بنجاح');
            })
            .catch(error => {
              console.error('خطأ في تسجيل الخروج:', error);
              alert('حدث خطأ أثناء تسجيل الخروج');
            });
        });
      });
    </script>
    <style>
      .auth-btn {
        padding: 8px 20px;
        border-radius: 25px;
        border: 2px solid #4285F4;
        background: #fff;
        color: #4285F4;
        font-weight: bold;
        font-size: 1rem;
        cursor: pointer;
        margin-right: 8px;
        transition: background 0.2s, color 0.2s, border 0.2s;
        box-shadow: 0 2px 8px rgba(66,133,244,0.08);
      }
      .auth-btn:hover {
        background: #4285F4;
        color: #fff;
      }
      .logout-btn {
        border: 2px solid #d32f2f;
        color: #d32f2f;
        background: #fff;
        margin-right: 8px;
      }
      .logout-btn:hover {
        background: #d32f2f;
        color: #fff;
      }
      #user-info {
        display: none;
        align-items: center;
        gap: 10px;
        margin-right: 8px;
      }
      #user-name {
        font-weight: bold;
        margin-left: 6px;
      }
    </style>
</head>
<body>
    <header>
        <div class="logo-container">
            <img src="images/logo22.jpg" alt="شعار أسواق الشادر" class="logo" width="60" height="60">
            <h1>أسواق الشادر</h1>
        </div>
        <div class="main-menu-toggle">
            <i data-lucide="menu"></i>
        </div>
        <nav class="main-menu" id="main-menu">
            <ul>
                <li><a href="#home" class="menu-item active"><i data-lucide="home"></i> الرئيسية</a></li>
                <li><a href="#products" class="menu-item"><i data-lucide="shopping-bag"></i> المنتجات</a></li>
                <li><a href="#daily-offers" class="menu-item"><i data-lucide="zap"></i> العروض اليومية</a></li>
                <li><a href="contact.html" class="menu-item"><i data-lucide="store"></i> عن المتجر</a></li>
            </ul>
            <button onclick="manualUpdate()" class="update-btn side-update-btn" title="تحديث المنتجات">
                <i data-lucide="refresh-ccw"></i>
                تحديث المنتجات
            </button>
        </nav>
        <div class="navbar-cart">
          <a href="cart.html" id="cart-icon-desktop"><i data-lucide="shopping-cart"></i><span>سلة التسوق</span><span id="cart-count-desktop">0</span></a>
        </div>
        <!-- أزرار تسجيل الدخول والتسجيل (تظهر فقط إذا لم يكن المستخدم مسجلاً الدخول) -->
        <button id="loginBtn" class="auth-btn">تسجيل الدخول بجوجل</button>
        <!-- اسم المستخدم وزر تسجيل الخروج (يظهران فقط إذا كان المستخدم مسجلاً الدخول) -->
        <div id="user-info" style="display:none; align-items:center; gap:8px;">
          مرحبًا <span id="user-name"></span>
          <button id="logoutBtn" class="auth-btn logout-btn">تسجيل الخروج</button>
        </div>
    </header>

    <section class="hero" id="home" data-aos="fade-up" data-aos-duration="1200">
        <div class="hero-content">
            <h2>مرحبًا بكم في <span>أسواق الشادر</span></h2>
            <p>خضراوات وفواكه طازجة بأفضل الأسعار </p>
	    <p>تشغيل تجريبي</p>
            <a href="#products" class="btn">تسوق الآن <i data-lucide="arrow-left"></i></a>
        </div>
    </section>






  <script type="text/javascript">
	
</script>







  
    <section id="categories" class="categories" data-aos="fade-up" data-aos-delay="200">
        <h2>الأقسام <i data-lucide="grid"></i></h2>
        <div class="category-container">
            <div class="category" onclick="filterByCategory('fruits')" data-aos="zoom-in" data-aos-delay="300">
                <img src="images/فاكهة.jpeg" alt="قسم الفواكه" width="250" height="200" loading="lazy">
                <h3>قسم الفواكه</h3>
            </div>
            <div class="category" onclick="filterByCategory('vegetables')" data-aos="zoom-in" data-aos-delay="400">
                <img src="images/خضار.jpeg" alt="قسم الخضراوات" width="250" height="200" loading="lazy">
                <h3>قسم الخضراوات</h3>
            </div>
            <div class="category" onclick="filterByCategory('packaged')" data-aos="zoom-in" data-aos-delay="500">
                <img src="images/خضار-متوضب.jpg" alt="قسم الخضار المتوضب" width="250" height="200" loading="lazy">
                <h3>قسم الخضار المتوضب</h3>
            </div>
        </div>
    </section>

    <section id="products" class="products" data-aos="fade-up" data-aos-delay="300">
        <h2>منتجاتنا <i data-lucide="shopping-bag"></i></h2>
        <div class="products-header">
            <button onclick="manualUpdate()" class="update-btn main-update-btn" title="تحديث المنتجات">
                <i data-lucide="refresh-ccw"></i>
                تحديث المنتجات
            </button>
            <div class="loading-spinner" id="loading-spinner">
                <i class="fas fa-spinner fa-spin"></i>
                <span>جاري تحميل المنتجات...</span>
            </div>
        </div>
        <div class="filter">
            <select id="category-filter" aria-label="تصنيف المنتجات">
                <option value="all">جميع المنتجات</option>
                <option value="fruits">قسم الفواكه</option>
                <option value="vegetables">قسم الخضراوات</option>
                <option value="packaged">قسم الخضار المتوضب</option>
            </select>
            <input type="text" id="search-products" placeholder="ابحث عن منتج..." aria-label="بحث عن منتج">
        </div>
        <div class="product-container" id="product-container">
            <!-- Products will be loaded dynamically with JavaScript -->
            <div class="loading-spinner" id="loading-spinner">
                <i class="fas fa-spinner fa-spin"></i>
                <span>جاري تحميل المنتجات...</span>
            </div>
        </div>
    </section>

    <!-- قسم العروض المميزة تمت إزالته بناءً على طلب العميل -->

    <section id="daily-offers" class="daily-offers" data-aos="fade-up" data-aos-delay="400">
        <h2>العروض اليومية <i data-lucide="zap"></i></h2>
        <div class="daily-offers-container" id="daily-offers-container">
            <!-- سيتم تحميل العروض اليومية ديناميكياً -->
        </div>
    </section>










	<script type="text/javascript">
	
</script>



	






	
    <div id="cart-modal" class="modal">
        <div class="modal-content">
            <span class="close" aria-label="إغلاق">&times;</span>
            <h2>سلة التسوق <i data-lucide="shopping-cart"></i></h2>
            <div id="cart-items">
                <!-- Cart items will be added dynamically -->
            </div>
            <div class="cart-total">
                <p>المجموع: <span id="total-price">0</span> ج.م</p>
            </div>
            <a href="#" id="checkout" class="btn" style="display:inline-block; text-align:center;">إتمام الشراء عبر واتساب <i class="fab fa-whatsapp"></i></a>
        </div>
    </div>









<script type="text/javascript">
	
</script>









	
    <footer data-aos="fade-up" data-aos-delay="700">
        <div class="footer-content">
            <div class="footer-logo">
                <img src="images/logo22.jpg" alt="شعار أسواق الشادر" class="logo" width="80" height="80">
                <h3>أسواق الشادر</h3>
            </div>
            <div class="footer-links">
                <h4>روابط سريعة</h4>
                <ul>
                    <li><a href="#home"><i data-lucide="home"></i> الرئيسية</a></li>
                    <li><a href="#categories"><i data-lucide="grid"></i> الأقسام</a></li>
                <li><a href="#daily-offers"><i data-lucide="percent"></i> العروض</a></li>
                    <li><a href="contact.html"><i data-lucide="store"></i> عن المتجر</a></li>
                    <li><a href="contact.html"><i data-lucide="mail"></i> اتصل بنا</a></li>
                </ul>
            </div>
            <div class="footer-contact">
                <h4>اتصل بنا</h4>
              <div id="footer-phones"></div>
                <p><i data-lucide="facebook"></i> <a href="https://www.facebook.com/share/1CizJTdEEc/" target="_blank" rel="noopener">صفحتنا على فيسبوك</a></p>
            </div>
        </div>
        <div class="copyright">
            <p>&copy; 2025 أسواق الشادر. جميع الحقوق محفوظة.</p>
        </div>
    </footer>

    <div class="cart floating-cart">
      <a href="cart.html" id="cart-icon-mobile">
        <i data-lucide="shopping-cart"></i>
        <span id="cart-count-mobile">0</span>
      </a>
    </div>

    <script src="settings.js"></script>
    <script src="products.js" type="module"></script>
    <script src="script.js"></script>
  <!-- 🔔 بانر إضافة للموبايل -->
  <div id="addToHome" style="display:none; position:fixed; bottom:20px; left:20px; right:20px; background:linear-gradient(135deg, #1a5f7a 0%, #42c5ea 100%); color:white; padding:15px; border-radius:15px; box-shadow:0 4px 20px rgba(0,0,0,0.3); z-index:9999; text-align:center; font-family:'Tajawal',sans-serif;">
    📱 <strong>أضف أسواق الشادر إلى الشاشة الرئيسية</strong><br />
    <small style="opacity:0.9;">للوصول السريع والتحديثات التلقائية</small><br />
    <div style="margin-top:10px;">
      <button onclick="document.getElementById('addToHome').style.display='none'; localStorage.setItem('hideBanner', '1');" style="background:rgba(255,255,255,0.2); border:none; color:white; padding:8px 16px; border-radius:20px; font-size:14px; cursor:pointer; margin:0 5px;">
        إغلاق
      </button>
      <button onclick="document.getElementById('addToHome').style.display='none';" style="background:rgba(255,255,255,0.1); border:none; color:white; padding:8px 16px; border-radius:20px; font-size:14px; cursor:pointer; margin:0 5px;">
        لاحقاً
      </button>
    </div>
  </div>

  <script>
    window.addEventListener('load', () => {
      setTimeout(() => {
        if (!localStorage.getItem('hideBanner')) {
          document.getElementById('addToHome').style.display = 'block';
        }
      }, 3000);
    });
  </script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/aos/2.3.4/aos.js"></script>
  <script>AOS.init({ once: true, duration: 900 });</script>
  <script>lucide.createIcons();</script>
  
  <!-- تسجيل Service Worker -->
  <script>
    if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
        navigator.serviceWorker.register('/sw.js')
          .then(registration => {
            console.log('تم تسجيل Service Worker بنجاح:', registration.scope);
          })
          .catch(error => {
            console.log('فشل تسجيل Service Worker:', error);
          });
      });
    }
  </script>
</body>
</html>
